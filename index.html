<!doctype html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>IngressAI — Vitrine</title>
  <!-- Override opcional do backend (ex.: https://ingressai-backend-production.up.railway.app/api) -->
  <meta name="ingressai-api" content="">
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --bg:#0b0e12; --card:#12161c; --muted:#8492a6; --text:#e6edf3; --brand:#2F7DD9;
      --ok:#1db954; --warn:#f0ad4e; --danger:#e5534b; --phi:1.618; --r:16px;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
      background:linear-gradient(180deg,#0a0d11,#0b0e12 40%,#0b0e12);
      color:var(--text);
    }
    a{color:var(--brand);text-decoration:none}
    .wrap{max-width:980px;margin:auto;padding:24px}
    header{
      display:flex;align-items:center;justify-content:center;gap:12px;margin:8px 0 18px;
      position:sticky;top:0;background:linear-gradient(180deg,rgba(11,14,18,.9),rgba(11,14,18,.6));
      backdrop-filter:saturate(140%) blur(6px); z-index:5; padding:12px 8px; border-bottom:1px solid #11161d;
    }
    .logo{display:flex;align-items:center;gap:12px}
    .logo img{width:40px;height:40px;object-fit:contain;filter:drop-shadow(0 2px 10px rgba(47,125,217,.25))}
    .logo h1{margin:0;font-weight:700;font-size:20px;letter-spacing:.4px}
    .status{margin-left:auto;font-size:12px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
    .card{
      background:linear-gradient(180deg,#12161c,#0f141a);border:1px solid #121821;border-radius:16px;
      overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,.25);
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      cursor:pointer;
    }
    .card:hover{transform:translateY(-2px);border-color:#1b2430;box-shadow:0 18px 60px rgba(0,0,0,.35)}
    .media{aspect-ratio: ~calc(1*var(--phi)) / 1; /* “proporção áurea” aproximada */
      position:relative;background:#0e1319;display:block}
    .media img{width:100%;height:100%;object-fit:cover;display:block}
    .body{padding:12px 12px 14px}
    .title{font-weight:600;font-size:15px;margin:2px 0 4px}
    .meta{font-size:12px;color:var(--muted)}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 18px}
    .chip{
      padding:6px 10px;border-radius:999px;background:#101721;border:1px solid #16202b;
      color:#90a3b8;font-size:12px;cursor:pointer;user-select:none
    }
    .chip.active{background:#152232;color:#cfe3ff;border-color:#263649}
    .search{display:flex;gap:8px}
    .search input{
      flex:1;background:#0f141a;border:1px solid #131a24;border-radius:12px;color:var(--text);
      padding:10px 12px;outline:none
    }
    .btn{
      background:linear-gradient(180deg,#2F7DD9,#1f66b7);border:1px solid #295f9b;color:white;
      border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer
    }
    .btn.secondary{background:#111823;border-color:#1a2633}
    .section{margin:28px 0 12px}
    .section h2{margin:0 0 10px;font-size:18px}
    /* Bottom sheet */
    .sheet{position:fixed;inset:0;display:none;align-items:flex-end;background:rgba(0,0,0,.55);z-index:20}
    .sheet.open{display:flex}
    .sheet > .panel{
      width:100%;max-height:90vh;background:linear-gradient(180deg,#0f1318,#0b0e12);
      border-radius:20px 20px 0 0;border:1px solid #121821;border-bottom:none;overflow:auto;
      box-shadow:0 -30px 60px rgba(0,0,0,.4);
    }
    .sheet .media{border-bottom:1px solid #121821}
    .sheet .content{padding:14px 14px 18px}
    .x{position:absolute;top:8px;right:8px;border:0;background:transparent;color:#c1c8d3;font-size:24px;cursor:pointer}
    .kpi{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .kpi .box{background:#0f1418;border:1px solid #142031;border-radius:12px;padding:10px}
    .kpi .box b{display:block;font-size:14px}
    .muted{color:var(--muted)}
    .hr{height:1px;background:#121821;margin:14px 0}
    footer{color:#708197;font-size:12px;text-align:center;margin:28px 0}
    /* Organizadores / Calculadora */
    .cards2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width:900px){ .cards2{grid-template-columns:1fr} }
    .panelCard{background:#0e1319;border:1px solid #121821;border-radius:16px;padding:14px}
    label{font-size:12px;color:#9aafc7;margin-bottom:4px;display:block}
    input,select{
      width:100%;background:#0f141a;border:1px solid #131a24;border-radius:10px;color:var(--text);
      padding:10px 12px;outline:none
    }
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .steps{display:flex;gap:8px;margin:8px 0 10px}
    .dot{width:8px;height:8px;border-radius:999px;background:#1a2430;outline:1px solid #223042}
    .dot.on{background:#2F7DD9}
    .inline{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .hint{font-size:12px;color:#9db2c9}
    .danger{color:var(--danger)}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img id="logo" alt="IngressAI" src="https://ingressai.chat/logo_ingressai.png" />
      <h1>IngressAI</h1>
    </div>
    <div class="status" id="status">checando…</div>
  </header>

  <div class="wrap">
    <!-- Filtros -->
    <div class="toolbar">
      <div class="chip active" data-city="">Todas</div>
      <div class="chip" data-city="Uberaba">Uberaba</div>
      <div class="chip" data-city="Uberlândia">Uberlândia</div>
      <div class="chip" data-city="Belo Horizonte">Belo Horizonte</div>
      <div class="chip" data-city="Outra">Outras</div>
    </div>
    <div class="search">
      <input id="q" placeholder="Buscar evento (título, cidade…)" autocomplete="off" />
      <button class="btn secondary" id="reload">Atualizar</button>
    </div>

    <!-- Vitrine -->
    <div class="section">
      <h2>Eventos</h2>
      <div class="grid" id="grid"></div>
    </div>

    <!-- Organizadores + Calculadora -->
    <div class="section">
      <h2>Para Organizadores</h2>
      <div class="cards2">
        <div class="panelCard">
          <h3 style="margin:0 0 8px">Criar evento (UX guiada)</h3>
          <div class="steps" id="stepDots">
            <div class="dot on"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
          </div>
          <div id="stepWrap">
            <!-- step 1 -->
            <label>Título do evento</label>
            <input id="ev_title" maxlength="80" placeholder="Ex.: Tech Thursday" />
            <div class="hr"></div>
            <div class="inline">
              <button class="btn" id="next1">Continuar</button>
              <span class="hint">Fluxo web tenta criar rascunho. Se não puder, enviamos pro WhatsApp.</span>
            </div>
          </div>
        </div>

        <div class="panelCard">
          <h3 style="margin:0 0 8px">Calculadora de taxas</h3>
          <div class="row">
            <div>
              <label>Categoria do comprador</label>
              <select id="cat">
                <option value="atl">Atléticas & Repúblicas (4%)</option>
                <option value="prod">Produtoras & Locais (5%)</option>
              </select>
            </div>
            <div>
              <label>Preço do ingresso (R$)</label>
              <input id="price" inputmode="decimal" placeholder="60,00" />
            </div>
          </div>
          <div class="row" style="margin-top:10px">
            <div>
              <label>Quantidade</label>
              <input id="qty" inputmode="numeric" value="1" />
            </div>
            <div>
              <label>Organizador paga</label>
              <input disabled value="3% fixo" />
            </div>
          </div>
          <div class="hr"></div>
          <div class="kpi">
            <div class="box">
              <b>Taxa do comprador</b>
              <span id="k_fee_buyer" class="muted">—</span>
            </div>
            <div class="box">
              <b>Taxa do organizador</b>
              <span id="k_fee_org" class="muted">—</span>
            </div>
            <div class="box">
              <b>Líquido ao organizador</b>
              <span id="k_net" class="muted">—</span>
            </div>
            <div class="box">
              <b>Total recebido (bruto)</b>
              <span id="k_gross" class="muted">—</span>
            </div>
          </div>
          <div class="hr"></div>
          <div class="inline">
            <button class="btn secondary" id="copyPlan">Copiar resumo</button>
            <span class="hint">Sem toggle de repasse. Plano fixo como combinamos ✅</span>
          </div>
        </div>
      </div>
    </div>

    <footer>© <span id="year"></span> IngressAI — “Pix dos ingressos”.</footer>
  </div>

  <!-- Sheet de evento -->
  <div class="sheet" id="sheet">
    <div class="panel">
      <button class="x" id="sheetClose">×</button>
      <div class="media"><img id="sheetImg" alt=""></div>
      <div class="content">
        <div class="title" id="sheetTitle">—</div>
        <div class="meta" id="sheetMeta">—</div>
        <div class="hr"></div>
        <div class="inline">
          <button class="btn" id="buyBtn">Comprar no WhatsApp</button>
          <button class="btn secondary" id="shareBtn">Compartilhar</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
