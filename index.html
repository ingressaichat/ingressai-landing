<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IngressAI — Ingressos em minutos, direto no WhatsApp</title>
  <meta name="description" content="Vitrine por cidade, checkout via WhatsApp, repasse T+0 e QR Code antifraude." />
  <meta name="theme-color" content="#2F7DD9" />
  <link rel="icon" href="./favicon.png" />

  <style>
    /* ——— tokens ——— */
    :root{--phi:1.618;--s0:8px;--s1:calc(var(--s0)*var(--phi));--s2:calc(var(--s1)*var(--phi));--s3:calc(var(--s2)*var(--phi));
      --ink:#0b1220;--muted:#5b6b86;--bg:#f6f8fc;--card:#fff;--blue:#2F7DD9;--shadow:0 10px 28px rgba(47,125,217,.14),0 2px 6px rgba(11,18,32,.08)}
    *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,sans-serif}
    a{color:inherit;text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:0 var(--s2)}

    header{position:sticky;top:0;background:#fff;border-bottom:1px solid #e7eefb;z-index:20}
    .nav{display:flex;gap:10px;align-items:center;justify-content:center;padding:10px}
    .link-like{border:1px solid #e7eefb;border-radius:12px;padding:.45rem .75rem;background:#fff;font-weight:800;box-shadow:0 6px 16px rgba(47,125,217,.10)}
    .tag{display:inline-flex;align-items:center;gap:6px;border:1px solid #e6eaf6;border-radius:999px;padding:.2rem .55rem;font-weight:800;font-size:.78rem}
    .tag.on{background:#eef9f2;border-color:#cfead9;color:#0b7a3b}.tag.off{background:#fff6f6;border-color:#ffd6d6;color:#a33a3a}

    .hero{padding:40px 0}
    .hero h1{margin:10px 0 0;font-size:clamp(26px,4.6vw,40px);line-height:1.12;text-align:center}
    .badges{display:flex;gap:18px;justify-content:center;margin:16px 0}
    .badge{display:inline-flex;gap:8px;align-items:center;color:#445570;font-weight:700}

    .btn{border:1px solid #d6e4ff;border-radius:999px;min-height:46px;padding:0 16px;background:#fff;font-weight:800;box-shadow:0 6px 16px rgba(47,125,217,.14)}
    .btn--ghost{box-shadow:none;border-color:#e1e8f6}
    .btn--sm{min-height:38px;padding:0 12px}

    .section{padding:56px 0}
    .features{display:grid;gap:10px;grid-template-columns:repeat(2,minmax(0,1fr))} @media(min-width:900px){.features{grid-template-columns:repeat(4,1fr)}}
    .feature{background:#fff;border:1px solid #e5ecff;border-radius:12px;padding:14px;display:grid;gap:6px;justify-items:center}

    .filters{display:grid;gap:12px;grid-template-columns:1fr max-content}
    .chips{display:flex;gap:8px;overflow:auto}
    .chip{border:1px solid #e5ecff;border-radius:999px;padding:.5rem .85rem;font-weight:800;background:#fff}
    .chip[aria-selected="true"]{background:#2F7DD9;color:#fff;border-color:#2F7DD9}

    .cards{display:grid;gap:12px;grid-template-columns:repeat(1,1fr)} @media(min-width:740px){.cards{grid-template-columns:repeat(2,1fr)}} @media(min-width:1100px){.cards{grid-template-columns:repeat(3,1fr)}}
    #lista-eventos.cards{grid-template-columns:repeat(2,1fr)}
    .card{background:#fff;border-radius:16px;border:1px solid #eaf1ff;box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}
    .card-media{aspect-ratio:1.35;border:1px solid #eaf1ff;border-radius:12px;background:linear-gradient(180deg,#fff,#f6f9ff);display:grid;place-items:center}
    .card-media img{width:100%;height:100%;object-fit:cover;border-radius:12px}
    .card-title{font-weight:900}
    .card-city{color:#2F7DD9;font-weight:800}

    .sheet-backdrop{position:fixed;inset:0;background:rgba(11,18,32,.36);opacity:0;pointer-events:none;transition:.2s;z-index:40}
    .sheet-backdrop.is-open{opacity:1;pointer-events:auto}
    .sheet{position:fixed;left:0;right:0;bottom:0;height:72vh;background:#fff;border-top-left-radius:24px;border-top-right-radius:24px;box-shadow:0 -24px 48px rgba(11,18,32,.16);transform:translateY(100%);transition:.28s;z-index:50;padding:16px}
    .sheet.is-open{transform:translateY(0)}
    .sheet-close{position:absolute;right:10px;top:10px;border:1px solid #ffd6d6;color:#c94747;background:#fff;border-radius:14px;padding:.55rem .65rem}
    .status-chip{display:inline-flex;gap:6px;border:1px solid #e6eaf6;border-radius:999px;padding:.2rem .55rem;font-weight:800;font-size:.82rem}

    .std-card{background:#fff;border:1px solid #e5ecff;border-radius:16px;box-shadow:0 6px 18px rgba(47,125,217,.12);padding:16px}
    .std-list{margin:0;padding-left:18px;display:grid;gap:6px}
    .model-grid{display:grid;gap:10px;grid-template-columns:1fr} @media(min-width:650px){.model-grid{grid-template-columns:repeat(2,1fr)}}
    .model{border:1px solid #e5ecff;border-radius:12px;padding:12px;background:#fff;font-weight:800}
    .model[aria-selected="true"]{box-shadow:0 6px 18px rgba(47,125,217,.12)}

    .calc{display:grid;gap:10px}
    .calc-row{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    .input{border:1px solid #e5ecff;border-radius:12px;padding:.7rem .8rem;font:inherit;width:100%}
    .calc-result{background:#fff;border:1px dashed #dbe5ff;border-radius:12px;padding:.6rem .8rem;font-weight:800;display:flex;justify-content:space-between}

    /* login modal */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(11,18,32,.36);z-index:60}
    .modal.is-open{display:grid}
    .modal-card{background:#fff;border:1px solid #e5ecff;border-radius:16px;box-shadow:0 10px 28px rgba(47,125,217,.14);padding:16px;width:min(520px,92vw);display:grid;gap:10px}
    .modal-actions{display:flex;gap:10px;justify-content:flex-end}

    footer{background:#fff;border-top:1px solid #e7eefb;margin-top:60px}
    .foot{max-width:1100px;margin:0 auto;padding:20px}
  </style>

  <!-- Onde está seu backend (use o Railway /api) -->
  <script>
    window.INGRESSAI_API = window.INGRESSAI_API || "https://ingressai-backend-production.up.railway.app/api";
  </script>
  <script defer src="./app/app.js"></script>
</head>
<body>
  <header>
    <nav class="nav container">
      <a class="link-like" href="#vitrine">Vitrine</a>
      <a class="link-like" id="nav-org" href="#organizadores">Organizadores</a>
      <a class="link-like" id="nav-val" href="#validador" hidden>Validador</a>
      <a class="link-like" data-login href="#">Entrar</a>
      <span id="auth-indicator" class="tag off">offline</span>
    </nav>
  </header>

  <main class="container">
    <section class="hero">
      <div class="badges">
        <span class="badge"><img alt="" src="./assets/meta.png" width="22" height="22"> Meta Business</span>
        <span class="badge"><img alt="" src="./assets/whatsapp_business.png" width="22" height="22"> WhatsApp API</span>
      </div>
      <h1>Crie eventos pela IngressAI — edição via WhatsApp, QR antifraude e repasse T+0.</h1>
      <p style="text-align:center;margin:10px 0 0">
        <a class="btn" href="#organizadores" id="cta-organizadores">Soluções para organizadores</a>
      </p>
    </section>

    <!-- PROVAS -->
    <section class="features" aria-label="Provas">
      <div class="feature"><strong>Venda automatizada</strong><small>Checkout no WhatsApp</small></div>
      <div class="feature"><strong>Repasse imediato</strong><small>Pix T+0</small></div>
      <div class="feature"><strong>QR Code antifraude</strong><small>Validador web</small></div>
      <div class="feature"><strong>Dashboard</strong><small>Ingressos & acesso</small></div>
    </section>

    <!-- VITRINE -->
    <section id="vitrine" class="section">
      <h2>Eventos em destaque</h2>
      <div class="filters">
        <input id="busca-eventos" class="input" placeholder="Buscar evento" inputmode="search" />
        <div id="filtro-cidades" class="chips" role="tablist" aria-label="Cidades"></div>
      </div>
      <div id="lista-eventos" class="cards" aria-live="polite"></div>
    </section>

    <!-- ORGANIZADORES -->
    <section id="organizadores" class="section" hidden>
      <h2>Soluções para organizadores</h2>
      <div id="std-card" class="std-card"></div>

      <div class="model-grid" id="org-models" role="tablist" aria-label="Modelos de organizador"></div>
      <div class="std-card" id="fee-row" style="display:none"><span id="fee-chip" class="status-chip">Taxa</span></div>

      <div id="org-detail" class="std-card is-disabled" aria-live="polite">
        <details open>
          <summary><strong>Calculadora & Setup</strong></summary>
          <div class="calc" id="calc-box" data-fee="">
            <div class="calc-row">
              <div>
                <label>Preço</label>
                <input id="preco" class="input" placeholder="R$ 60,00" inputmode="decimal" disabled>
              </div>
              <div>
                <label>Qtd</label>
                <input id="qtd" class="input" type="number" min="1" step="1" placeholder="1" disabled>
              </div>
            </div>
            <small id="calc-note" style="color:#5b6b86">Selecione um plano acima para aplicar a taxa.</small>
            <div class="calc-result"><span>Total bruto</span><strong id="calc-gross">R$ 0,00</strong></div>
            <div class="calc-result"><span>Você recebe</span><strong id="calc-net">R$ 0,00</strong></div>

            <!-- Formulário de solicitação (dados do evento) -->
            <hr style="border:none;border-top:1px solid #eef2ff;margin:10px 0">
            <div class="calc-row">
              <div><label>Nome do evento</label><input id="f-title" class="input" placeholder="Ex.: Sunset no Terraço"></div>
              <div><label>Cidade</label><input id="f-city" class="input" placeholder="Ex.: Uberaba-MG"></div>
            </div>
            <div class="calc-row">
              <div><label>Local</label><input id="f-venue" class="input" placeholder="Ex.: Terraço 21"></div>
              <div><label>Data/hora</label><input id="f-date" class="input" placeholder="27/09/2025 23:00"></div>
            </div>
            <div class="calc-row">
              <div><label>Seu WhatsApp (DDI+DDD+NÚMERO)</label><input id="f-phone" class="input" placeholder="55349..."></div>
              <div style="display:grid;align-items:end"><a id="org-request" class="btn btn--ghost">Solicitar criação no WhatsApp</a></div>
            </div>

            <div style="display:grid;gap:8px;margin-top:8px">
              <a id="org-quick" class="btn is-disabled" aria-disabled="true">Criar evento (WhatsApp)</a>
              <a id="open-dashboard" class="btn btn--ghost" href="./app/login.html">Entrar no Dashboard</a>
            </div>
          </div>
        </details>
      </div>
    </section>

    <!-- VALIDADOR (visível ao logar como organizador) -->
    <section id="validador" class="section" hidden>
      <h2>Validador</h2>
      <div class="std-card">
        <p class="hint" style="color:#5b6b86">Cole o código do QR (ex.: <code>ingressai:ticket:ABC123</code> ou só <code>ABC123</code>).</p>
        <div style="display:grid;gap:10px;grid-template-columns:1fr max-content">
          <input id="val-code" class="input" placeholder="Código do ingresso">
          <button id="val-check" class="btn btn--sm">Checar</button>
        </div>
        <div id="val-result" style="margin-top:8px"></div>
      </div>
    </section>

    <!-- SHEET (detalhes do evento) -->
    <div id="sheet-backdrop" class="sheet-backdrop" aria-hidden="true"></div>
    <aside id="sheet" class="sheet" aria-hidden="true" role="dialog" aria-modal="true">
      <button id="sheet-close" class="sheet-close" data-close="sheet" aria-label="Fechar">✕</button>
      <div id="sheet-body" class="sheet-body"></div>
    </aside>
  </main>

  <footer>
    <div class="foot">
      <strong>IngressAI</strong> • CNPJ 42.948.399/0001-87 • <a href="./app/login.html">Dashboard</a> • <a href="./app/validator.html">Validador</a>
    </div>
  </footer>

  <!-- MODAL LOGIN OTP -->
  <div id="login-modal" class="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="login-title">
      <h3 id="login-title">Entrar no Dashboard</h3>
      <label for="login-phone">Seu WhatsApp (DDI+DDD+NÚMERO)</label>
      <input id="login-phone" class="input" placeholder="5534999..." inputmode="numeric" autocomplete="tel">
      <div class="modal-actions">
        <button id="login-send" class="btn btn--sm">Receber código</button>
        <button id="login-cancel" class="btn btn--ghost btn--sm">Cancelar</button>
      </div>
      <div id="code-block" style="display:none">
        <label for="login-code">Código recebido</label>
        <input id="login-code" class="input" maxlength="6" inputmode="numeric" placeholder="4–6 dígitos">
        <div class="modal-actions">
          <button id="code-back" class="btn btn--ghost btn--sm">Voltar</button>
          <button id="code-verify" class="btn btn--sm">Verificar & abrir Dashboard</button>
        </div>
      </div>
      <div id="login-hint" style="color:#5b6b86"></div>
    </div>
  </div>
</body>
</html>
